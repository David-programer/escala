<<<<<<< HEAD
<p>proyects works!</p>
=======
<body class="relative">    

    <datalist id="datalist-departamentos">
        <option *ngFor="let item of data_departamentos" value="{{item.departamento}}"></option>
    </datalist>

    <datalist id="datalist-ciudades">
        <option *ngFor="let ciudad of data_ciudades" value="{{ciudad}}"></option>
    </datalist>

    <datalist id="datalist-estados">
        <option *ngFor="let estado of data_estados" value="{{estado.nombre_estado}}"></option>
    </datalist>

    <nav class="p-4 md:py-8 xl:px-0 md:container md:mx-w-6xl md:mx-auto">
        <div class="flex items-start gap-2 group">
            <div class="bg-orange-600 text-white p-2 rounded-md group-hover:bg-blue-800">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                </svg>
            </div>
            <p class="text-sm font-light uppercase">
                PROYECTOS
                <span class="text-base block font-bold tracking-widest">
                    ESCALA
                </span>
            </p>
        </div>
    </nav>
    
    <div class="flex flex-col space-y-8">
        <div class="px24 xl:p-0 gap-4 xl:gap-6">
            <div class="flex">
                <div class="flex items-center max-w-lg bg-white rounded-md">
                    <input #input_search type="search" (change)="search_by($event.target)" class="w-full px-4 text-gray-800 focus:outline-none" placeholder="search">

                    <button type="submit" class="w-12 h-8 text-white rounded-r-lg"  [ngClass]="input_search.value.length > 0 ? 'bg-orange-500' : 'bg-gray-500 cursor-not-allowed'">
                        <span class="cil-search"></span>
                    </button>
                </div>

                <div (click)="open_modal()" class="h-full cursor-pointer ml-auto mr-4 px-4 text-sm font-bold border-orange-500 border text-orange-500 rounded-md hover:bg-orange-500 hover:text-white">CREAR</div>
                <h2 class="text-lg md:text-xl text-gray-700 font-bold">PROYECTOS CREADOS ({{(data | async)?.length}})</h2>
            </div>

            <div class="flex mt-5 gap-5 flex-wrap">
                <div *ngFor="let proyect of data | async" class="bg-white p-5 rounded-xl border border-gray-50 w-60">
                    <div class="flex">
                        <span class="bg-{{proyect.color}}-500 text-white text-xl font-bold mr-2 px-2 rounded-md">{{proyect.dias_restantes}}</span>
                        <p class="text-gray-600">{{proyect.nombre_proyecto}}</p>
                    </div>
                    <div class="text-gray-500 text-xs mt-3">
                        <p><span class="cil-location-pin mr-1"></span> {{proyect.departamento}} - {{proyect.ciudad}}</p>
                        <p><span class="cil-user mr-1"></span> {{proyect.nombre_cliente}}</p>
                        <p><span class="cil-phone mr-1"></span> {{proyect.telefono_cliente}}</p>
                    </div>
                    <h3 class="mt-1 text-lg text-{{proyect.color}}-500 font-bold">{{proyect.total | currency:'':'symbol':'1.0-0'}}</h3>
                    <div class="flex">
                        <p class="text-xs"><span class="cil-calendar mr-1"></span> {{proyect.fec_fin_estimado | date:'longDate'}}</p>
                        <!-- <span class="text-xs p-2 rounded-lg bg-{{color}}-200 text-{{color}}-500">{{proyect.nombre_estado}}</span> -->
                        <div class="flex gap-2 ml-auto text-xs">
                            <span (click)="handler_update_proyecto(proyect)" class="rounded-full p-2 bg-gray-200 cil-pencil cursor-pointer hover:bg-gray-300"></span>
                            <span (click)="open_info(proyect)" class="rounded-full p-2 bg-gray-200 cil-info cursor-pointer hover:bg-gray-300"></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- <div class="bg-white p-6 rounded-xl border border-gray-50">
                <div class="flex justify-between items-start">
                    <div class="flex flex-col">
                        <p class="text-xs text-gray-600 tracking-wide">Groceries</p>
                        <h3 class="mt-1 text-lg text-green-500 font-bold">$ 8,918</h3>
                        <span class="mt-4 text-xs text-gray-500">Last Transaction 3 Days ago</span>
                    </div>
                    <div class="bg-green-500 p-2 md:p-1 xl:p-2 rounded-md">
                        <img src="https://atom.dzulfarizan.com/assets/grocery.png" alt="icon" class="w-auto h-8 md:h-6 xl:h-8 object-cover">
                    </div>
                </div>
            </div>
            <div class="bg-white p-6 rounded-xl border border-gray-50">
                <div class="flex justify-between items-start">
                    <div class="flex flex-col">
                        <p class="text-xs text-gray-600 tracking-wide">Gaming</p>
                        <h3 class="mt-1 text-lg text-yellow-500 font-bold">$ 1,223</h3>
                        <span class="mt-4 text-xs text-gray-600">Last Transaction 4 Days ago</span>
                    </div>
                    <div class="bg-yellow-500 p-2 md:p-1 xl:p-2 rounded-md">
                        <img src="https://atom.dzulfarizan.com/assets/gaming.png" alt="icon" class="w-auto h-8 md:h-6 xl:h-8 object-cover">
                    </div>
                </div>
            </div>
            <div class="bg-white p-6 rounded-xl border border-gray-50">
                <div class="flex justify-between items-start">
                    <div class="flex flex-col">
                        <p class="text-xs text-gray-600 tracking-wide">Trip & Holiday</p>
                        <h3 class="mt-1 text-lg text-indigo-500 font-bold">$ 5,918</h3>
                        <span class="mt-4 text-xs text-gray-500">Last Transaction 1 Month ago</span>
                    </div>
                    <div class="bg-indigo-500 p-2 md:p-1 xl:p-2 rounded-md">
                        <img src="https://atom.dzulfarizan.com/assets/holiday.png" alt="icon" class="w-auto h-8 md:h-6 xl:h-8 object-cover">
                    </div>
                </div>
            </div> -->
        </div>
    </div>
</body>

<app-modal #modal_form >
    <h2 class="text-lg md:text-xl text-gray-700 font-bold"><span class="cil-factory mr-2"></span> {{update_state ? 'EDITAR' : 'CREAR'}} PROYECTO</h2>

    <app-form-dynamic
        #form_dynamic_proyecos
        [inputs]="inputs_proyectos"
        (reset)="close_modal()"
        (submitEvent)="create_proyectos($event);"
    ></app-form-dynamic>
</app-modal>

<app-modal #modal_info>
    <div class="flex mb-2">
        <h2 class="text-lg md:text-xl text-gray-700 font-bold"><span class="cil-factory mr-2"></span> PROYECTO {{data_modal.nombre_proyecto | uppercase}}</h2>
        <span class="ml-auto p-1 bg-gray-100 rounded-md">Estado: <span class="text-{{data_modal.color}}-500 font-bold">{{data_modal.nombre_estado}}</span></span>
    </div>

    <hr>
    <div class="grid grid-cols-2 mt-6">
        <div>
            <p><span class="cil-barcode mr-2"></span>Código: {{data_modal.codigo_proyecto}}</p>
            <p><span class="cil-location-pin mr-2"></span>Departamento: {{data_modal.departamento}}</p>
            <p><span class="cil-factory mr-2"></span>Ciudad: {{data_modal.ciudad}}</p>
            <p><span class="cil-location-pin mr-2"></span>Dirección: {{data_modal.direccion}}</p>
            <p><span class="cil-user mr-2"></span>Cliente: {{data_modal.nombre_cliente}}</p>
            <p><span class="cil-user mr-2"></span>Teléfono: {{data_modal.telefono_cliente}}</p>
        </div>
        <div>
            <div class="flex items-center">
                <span class="text-5xl cil-calendar mr-4"></span>
                <div>
                    <h3 class="font-bold text-xl text-{{data_modal.color}}-500"><span class="text-3xl">{{data_modal.dias_restantes}}</span> días restantes</h3>
                    <p>La fecha final para darle finalización al proyecto es <span class="font-bold">{{data_modal.fec_fin_estimado | date:'fullDate'}}</span></p>
                </div>
            </div>

            <div class="mt-2">
                <p>Fecha inicio : {{data_modal.fec_inicio | date:'shortDate'}}</p>
                <p>Fecha final : {{data_modal.fec_fin_real | date:'shortDate'}}</p>
                <p class="text-{{data_modal.color}}-500">Fecha estimada : {{data_modal.fec_fin_estimado | date:'shortDate'}}</p>
            </div>
        </div>
    </div>

    <!-- PRECIOS -->
    <div class="mt-5">
        <h3 class="text-lg text-gray-700 font-bold"><span class="cil-money mr-2"></span> PRECIOS </h3>

        <div class="grid grid-cols-4 mt-2">
            <div class="p-4 cursor-pointer border">
                <span class="text-sm text-gray-500 font-semibold"> <span class="mr-1 cil-walk"></span> Mano de obra</span>
                <h2 class="text-gray-800 font-bold tracking-wider">{{data_modal.pres_mano_obra | currency:'':'symbol':'1.0-0'}}</h2>
            </div>
            <div class="p-4 cursor-pointer border">
                <span class="text-sm text-gray-500 font-semibold"> <span class="mr-1 cil-baseball"></span> Materiales</span>
                <h2 class="text-gray-800 font-bold tracking-wider">{{data_modal.pres_materiales | currency:'':'symbol':'1.0-0'}}</h2>

            </div>
            <div class="p-4 cursor-pointer border">
                <span class="text-sm text-gray-500 font-semibold">Otros</span>
                <h2 class="text-gray-800 font-bold tracking-wider">{{data_modal.pres_otros | currency:'':'symbol':'1.0-0'}}</h2>
            </div>
            <div class="p-4 cursor-pointer border">
                <span class="text-sm text-gray-500 font-semibold"><span class="mr-1 cil-graph"></span> Total</span>
                <h2 class="text-gray-800 font-bold tracking-wider">{{data_modal.total | currency:'':'symbol':'1.0-0'}}</h2>
            </div>
        </div>
    </div>
</app-modal>

<span class="bg-green-500 bg-red-500 bg-orange-500 text-green-500 text-red-500 text-orange-500 hidden"></span>

<app-alert #alert_proyectos></app-alert>
<app-loading *ngIf="loading"></app-loading>
>>>>>>> dbb364b1fecdf211d4f02f3e3074bc0c813894fa
